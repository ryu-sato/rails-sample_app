name: Approve pull request which update dependencies
on:
  - pull_request
jobs:
  approve-pull-request-which-update-dependencies:
    runs-on: ubuntu-latest
    if:
      contains(github.event.pull_request.labels.*.name, 'dependencies')
      && contains(github.event.pull_request.labels.*.name, 'approved by bot')
    steps:
    - run: echo ${{ github.event.pull_request }}
    - name: Approve pull request
      run: gh pr review --approve -b "Because it is a pull request which update dependences" ${{ github.event.pull_request.html_url }}
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
